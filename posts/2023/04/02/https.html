<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Https是怎么加密的？ | 维维梓的博客 ｜ WeiS Blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="个人博客">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.f8d19f53.css" as="style"><link rel="preload" href="/assets/js/app.7b77c2c0.js" as="script"><link rel="preload" href="/assets/js/6.c637be34.js" as="script"><link rel="preload" href="/assets/js/7.f81a89ad.js" as="script"><link rel="prefetch" href="/assets/js/10.0b5928ed.js"><link rel="prefetch" href="/assets/js/11.5fb46a50.js"><link rel="prefetch" href="/assets/js/12.fb57822d.js"><link rel="prefetch" href="/assets/js/13.2515b1db.js"><link rel="prefetch" href="/assets/js/14.91cadf63.js"><link rel="prefetch" href="/assets/js/15.c23ba4c7.js"><link rel="prefetch" href="/assets/js/16.51dd775e.js"><link rel="prefetch" href="/assets/js/2.35a0a702.js"><link rel="prefetch" href="/assets/js/3.fc3cf85f.js"><link rel="prefetch" href="/assets/js/4.76b9324e.js"><link rel="prefetch" href="/assets/js/5.0175d747.js"><link rel="prefetch" href="/assets/js/8.693ba13f.js"><link rel="prefetch" href="/assets/js/9.5834a689.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f8d19f53.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout" data-v-7f2e4136><header class="header-container" data-v-93921ff8 data-v-7f2e4136><nav class="navbar" style="position:absolute;opacity:1;transition:all 0.5s ease-in-out;" data-v-93921ff8><a href="/" class="navbar-link router-link-active">
    WeiS Blog
  </a> <ul class="navbar-links"><li><a href="/" class="router-link-active">
        HOME
      </a></li><li><a href="/about/">
        ABOUT
      </a></li><li><a href="/tags/">
        TAGS
      </a></li></ul> <div id="nav-icon"><span></span><span></span><span></span></div></nav> <div class="header-title" data-v-93921ff8 data-v-93921ff8><h1 data-v-93921ff8>Https是怎么加密的？</h1> <p data-v-93921ff8>混合加密+SSL证书</p></div></header> <div class="container" data-v-b3fda33c data-v-7f2e4136><main class="main" style="width:60%;" data-v-b3fda33c><div class="post" data-v-b3fda33c data-v-b3fda33c><article class="main-div"><div class="post-content content content__default"><p>都知道Https比Http安全，因为SSL，那么Https是怎样实现的更加安全呢？</p> <h1 id="https加密的方式"><a href="#https加密的方式" class="header-anchor">#</a> Https加密的方式</h1> <h3 id="_1-对称加密-×"><a href="#_1-对称加密-×" class="header-anchor">#</a> 1.对称加密（×）</h3> <p>话不多说，直接上图：</p> <p><img src="https://freessl.wosign.com/wp-content/uploads/2018/05/20180530163631.png" alt=""></p> <p>如图所示，这种双方拥有相同的密钥，信息能够安全传输的方式就是<code>对称加密</code>方式。但是仍然有两个缺点：</p> <ul><li>客户端和服务器的数量庞大，双方都需要维护大量的密钥，维护成本很高；</li> <li>每个客户端、服务器的安全级别不同，密钥极易泄露。</li></ul> <h3 id="_2-非对称加密-×"><a href="#_2-非对称加密-×" class="header-anchor">#</a> 2.非对称加密（×）</h3> <p>话不多说，再次上图</p> <p><img src="https://freessl.wosign.com/wp-content/uploads/2018/05/20180530163643.png" alt=""></p> <p>如图所示，客户端拥有公钥，服务器端拥有私钥，公钥可以解开私钥所加密的内容，而私钥可以解开公钥加密的内容，这样的加密方式叫做<code>非对称加密</code>。</p> <p>但这样的方式仍然还是会有缺点：</p> <ul><li>公钥是公开的，公钥所有人都可以获取，那么黑客就可以拿公钥去解开私钥所加密的响应内容。</li></ul> <h3 id="_3-混合加密-√"><a href="#_3-混合加密-√" class="header-anchor">#</a> 3.混合加密（√）</h3> <p>既然对称加密和非对称加密都不好使，那就取两者其精华，去两者其糟粕，采用<code>混合加密</code>的方式。</p> <p><img src="https://freessl.wosign.com/wp-content/uploads/2018/05/20180530163657.png" alt=""></p> <p>如图所示，利用<code>非对称加密</code>的方式把<code>对称加密</code>的算法和密钥进行一个加密，也就是说最终通信用到的的是一个加密后的<code>对称加密</code>，这种方式叫做<code>混合加密</code>，也就是现在Https采用的通信方式。</p> <ul><li>只有服务器的私钥可以解开客户端利用公钥加密的对称加密算法和对称密钥；</li> <li>得到对称密钥之后双方再建立对称密钥加密通信。</li></ul> <h3 id="仍然存在的问题-客户端如何获取公钥"><a href="#仍然存在的问题-客户端如何获取公钥" class="header-anchor">#</a> 仍然存在的问题：客户端如何获取公钥？</h3> <p>这就要用到终极武器：<code>SSL证书</code>，也就是Https的核心。</p> <ul><li><p>首先，服务器端向CA（数字证书认证中心）申请一个<code>SSL证书</code>；</p></li> <li><p>然后，服务器端发送<code>SSL证书</code>给客户端；包含证书的发布机构CA，有效期，公钥，数字签名等等；</p></li> <li><p>客户端对SSL证书中的CA进行校验，校验成功用<strong>公钥解密出数字签名</strong>，再利用相同的<strong>哈希算法</strong>计算出数字签名是否正确；</p></li> <li><p>经过比对和算法计算出不是冒充的，说明证书合法，则将公钥用于后续的加密。</p></li></ul> <h3 id="知识拓展"><a href="#知识拓展" class="header-anchor">#</a> 知识拓展</h3> <h4 id="对称加密的算法-aes-des-snow"><a href="#对称加密的算法-aes-des-snow" class="header-anchor">#</a> 对称加密的算法：AES，DES，SNOW</h4> <h4 id="非对称加密的算法-rsa算法-椭圆曲线加密"><a href="#非对称加密的算法-rsa算法-椭圆曲线加密" class="header-anchor">#</a> 非对称加密的算法：<strong>RSA算法</strong>，椭圆曲线加密</h4></div></article> <!----></div></main> <aside class="aside" data-v-b3fda33c data-v-b3fda33c><div class="info-card main-div" data-v-1311ce9e data-v-b3fda33c><div class="info-card-header" data-v-1311ce9e><img src="/avatar.jpg" alt="维维梓" class="info-avatar" data-v-1311ce9e></div> <div class="info-card-body" data-v-1311ce9e><section class="info-name" data-v-1311ce9e>
      维维梓
    </section> <section class="info-desc" data-v-1311ce9e>一个爱说唱的程序员</section> <section class="info-contact" data-v-1311ce9e><section data-v-1311ce9e><span data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:1em;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-location" data-v-1311ce9e data-v-1311ce9e></use></svg><span class="info-text" data-v-1311ce9e data-v-1311ce9e>
          Shanghai, China
        </span></span></section> <!----> <section data-v-1311ce9e><span data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:1em;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-email" data-v-1311ce9e data-v-1311ce9e></use></svg><span class="info-text" data-v-1311ce9e data-v-1311ce9e>
          2201553139@qq.com
        </span></span></section></section></div> <div class="info-card-footer" data-v-1311ce9e><p class="footer-sns-link" data-v-1311ce9e><a target="_blank" href="https://github.com/QinZiWeiS" class="sns-link" data-v-1311ce9e><span class="sns-icon" data-v-1311ce9e data-v-1311ce9e><svg class="icon" style="font-size:35px;" data-v-1311ce9e data-v-1311ce9e><use xlink:href="#icon-github" data-v-1311ce9e data-v-1311ce9e></use></svg></span></a></p></div></div> <div class="post-toc main-div aside-toc" style="position:relative;top:0;width:0px;" data-v-b3fda33c><h4>- CATALOG</h4> <div class="post-nav-toc"><ul><li><a href="/posts/2023/04/02/https.html#_1-对称加密-×">1.对称加密（×）</a><ul><li><a href="/posts/2023/04/02/https.html#_2-非对称加密-×">2.非对称加密（×）</a></li><li><a href="/posts/2023/04/02/https.html#_3-混合加密-√">3.混合加密（√）</a></li><li><a href="/posts/2023/04/02/https.html#仍然存在的问题-客户端如何获取公钥">仍然存在的问题：客户端如何获取公钥？</a></li><li><a href="/posts/2023/04/02/https.html#知识拓展">知识拓展</a></li></ul></li></ul></div></div></aside></div> <footer class="footer" data-v-7f2e4136><p class="footer-sns-link"><a target="_blank" href="https://github.com/QinZiWeiS" class="sns-link"><span class="sns-icon"><svg class="icon" style="font-size:40px;"><use xlink:href="#icon-github"></use></svg></span></a></p> <div class="copyright"><span id="custom">Copyright &copy; WeiS Blog 2023</span> <!----></div></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.7b77c2c0.js" defer></script><script src="/assets/js/6.c637be34.js" defer></script><script src="/assets/js/7.f81a89ad.js" defer></script>
  </body>
</html>
